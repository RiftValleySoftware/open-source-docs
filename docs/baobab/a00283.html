<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BAOBAB: tCO_Collection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BAOBAB
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00283.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a00280.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tCO_Collection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for tCO_Collection:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00282.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Collaboration diagram for tCO_Collection:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00281.svg" width="172" height="244"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3413adf1ce02938cb63fd41c83d50a90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a3413adf1ce02938cb63fd41c83d50a90">reload_collection</a> ()</td></tr>
<tr class="separator:a3413adf1ce02938cb63fd41c83d50a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dcc65f580083dd5c96a1515697e470"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#ad3dcc65f580083dd5c96a1515697e470">insertElement</a> ( $in_element, $in_before_index=-1, $dont_update=false)</td></tr>
<tr class="separator:ad3dcc65f580083dd5c96a1515697e470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af652505d9dfbdece45034591f371fb27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#af652505d9dfbdece45034591f371fb27">insertElements</a> ( $in_element_array, $in_before_index=-1)</td></tr>
<tr class="separator:af652505d9dfbdece45034591f371fb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddd75904638d52a392afc6b84b98e5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a4ddd75904638d52a392afc6b84b98e5e">deleteElements</a> ( $in_first_index, $in_deletion_length)</td></tr>
<tr class="separator:a4ddd75904638d52a392afc6b84b98e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d03cafb40a68aaa2de7426942c91d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a86d03cafb40a68aaa2de7426942c91d8">deleteElement</a> ( $in_index)</td></tr>
<tr class="separator:a86d03cafb40a68aaa2de7426942c91d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a58251120a59dfd9267228f296bf48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#af1a58251120a59dfd9267228f296bf48">deleteThisElement</a> ( $in_element)</td></tr>
<tr class="separator:af1a58251120a59dfd9267228f296bf48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00670dc7a3f9be57c4afbd21393722a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#ab00670dc7a3f9be57c4afbd21393722a">appendElement</a> ( $in_element)</td></tr>
<tr class="separator:ab00670dc7a3f9be57c4afbd21393722a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007b28a1915ee9b39a82e39a2bbffb88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a007b28a1915ee9b39a82e39a2bbffb88">appendElements</a> ( $in_element_array)</td></tr>
<tr class="separator:a007b28a1915ee9b39a82e39a2bbffb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8311e15149ea745a9ef8b7a93cf0c8b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a8311e15149ea745a9ef8b7a93cf0c8b9">deleteAllChildren</a> ()</td></tr>
<tr class="separator:a8311e15149ea745a9ef8b7a93cf0c8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72e834a71713d46d625e1a9f821171b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#aa72e834a71713d46d625e1a9f821171b">indexOfThisElement</a> ( $in_element)</td></tr>
<tr class="separator:aa72e834a71713d46d625e1a9f821171b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74af3417e451cf8685eee19dff2be59d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a74af3417e451cf8685eee19dff2be59d">whosYourDaddy</a> ( $in_element)</td></tr>
<tr class="separator:a74af3417e451cf8685eee19dff2be59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b8db04ff0dfd61f4d4a6a44ea2f67f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a30b8db04ff0dfd61f4d4a6a44ea2f67f">areYouMyDaddy</a> ( $in_element, $full_hierachy=true)</td></tr>
<tr class="separator:a30b8db04ff0dfd61f4d4a6a44ea2f67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd91d5e797e98c82395cf83b7939012b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#afd91d5e797e98c82395cf83b7939012b">map</a> ( $in_function)</td></tr>
<tr class="separator:afd91d5e797e98c82395cf83b7939012b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94a8433444274816e1da61651247894"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#af94a8433444274816e1da61651247894">recursiveMap</a> ( $in_function, $in_hierarchy_level=0, $in_parent_object=NULL, $loop_stopper=Array())</td></tr>
<tr class="separator:af94a8433444274816e1da61651247894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994648913ff9d5f7bb83640bd6239d44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a> ( $is_recursive=false)</td></tr>
<tr class="separator:a994648913ff9d5f7bb83640bd6239d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b874768720083a8a31c9fedcee30e6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a> ()</td></tr>
<tr class="separator:a1b874768720083a8a31c9fedcee30e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593bc645e10684d735cffff6b2bef1b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a593bc645e10684d735cffff6b2bef1b4">children_ids</a> ( $in_raw=false)</td></tr>
<tr class="separator:a593bc645e10684d735cffff6b2bef1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd7c8dca807e2bb35c87c922a37e870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a1cd7c8dca807e2bb35c87c922a37e870">set_children_ids</a> ( $in_new_ids)</td></tr>
<tr class="separator:a1cd7c8dca807e2bb35c87c922a37e870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378415ffa5f222d940e6b1021943a2ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a378415ffa5f222d940e6b1021943a2ea">who_are_my_parents</a> ()</td></tr>
<tr class="separator:a378415ffa5f222d940e6b1021943a2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9cc5488d477bc8b57a354e290a9f8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a4c9cc5488d477bc8b57a354e290a9f8b">getHierarchy</a> ( $loop_stopper=Array())</td></tr>
<tr class="separator:a4c9cc5488d477bc8b57a354e290a9f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa70eb8c1b0f5ee56325a1b150247c939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a> ()</td></tr>
<tr class="separator:aa70eb8c1b0f5ee56325a1b150247c939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c2f38ec2411f21f1c60ca591482e9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a75c2f38ec2411f21f1c60ca591482e9c">_set_up_container</a> ()</td></tr>
<tr class="separator:a75c2f38ec2411f21f1c60ca591482e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9b78bf90eb878f973b7c75030152327a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00283.html#a9b78bf90eb878f973b7c75030152327a">$_container</a></td></tr>
<tr class="memdesc:a9b78bf90eb878f973b7c75030152327a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This contains instances of the records referenced by the IDs stored in the object.  <a href="a00283.html#a9b78bf90eb878f973b7c75030152327a">More...</a><br /></td></tr>
<tr class="separator:a9b78bf90eb878f973b7c75030152327a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a trait for the basic "collection" aggregator functionality.</p>
<p>Yes, I know that a lot of the code could do with some refactoring, and we should do that, but what we have here does work, and having pretty code is less important than having effective, tested, working code. We have a lot on our plate. </p>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00037">37</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa70eb8c1b0f5ee56325a1b150247c939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70eb8c1b0f5ee56325a1b150247c939">&#9670;&nbsp;</a></span>_scrub()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::_scrub </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a "garbage collection" method. This checks each of the contained items, and removes the ID if the item does not actually exist (security is not taken into account, so it's an accurate check). </p>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00045">45</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">if</span> (isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            $children_ids = $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>];</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">if</span> (isset($children_ids) &amp;&amp; is_array($children_ids) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($children_ids)) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                $new_ids = Array();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                <span class="keywordflow">foreach</span> ($children_ids as $id) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                    $id = intval($id); <span class="comment">// Belt and suspenders.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                    <span class="keywordflow">if</span> ($this-&gt;get_access_object()-&gt;item_exists($id)) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                        $new_ids[] = $id;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                $new_ids = array_unique($new_ids);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                sort($new_ids);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = $new_ids;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                $this-&gt;update_db();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            $this-&gt;_container = Array();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a75c2f38ec2411f21f1c60ca591482e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c2f38ec2411f21f1c60ca591482e9c">&#9670;&nbsp;</a></span>_set_up_container()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::_set_up_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method simply sets up the internal container from the object's tags. The tags already need to be loaded when this is called, so it should be called towards the end of the object's constructor. </p>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00073">73</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                           {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">if</span> (isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            $children_ids = $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>];</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (isset($children_ids) &amp;&amp; is_array($children_ids) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($children_ids)) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                $this-&gt;_container = $this-&gt;get_access_object()-&gt;get_multiple_data_records_by_id($children_ids);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00134_source.html#l00142">CO_User_Collection\load_from_db()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00283_a75c2f38ec2411f21f1c60ca591482e9c_icgraph.svg" width="342" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab00670dc7a3f9be57c4afbd21393722a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00670dc7a3f9be57c4afbd21393722a">&#9670;&nbsp;</a></span>appendElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::appendElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This appends one record to the end of the collection. The element cannot be already in the collection at any level, as that could cause a loop. The logged-in user must have write access to the collection object (not the data object) in order to add the item. You can opt out of the automatic database update.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the data was successfully added. If a DB update was done, then the response is the one from the update. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The database record to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00375">375</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                  {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00283.html#ad3dcc65f580083dd5c96a1515697e470">insertElement</a>($in_element, -1);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a007b28a1915ee9b39a82e39a2bbffb88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007b28a1915ee9b39a82e39a2bbffb88">&#9670;&nbsp;</a></span>appendElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::appendElements </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This appends multiple elements (passed as an array). The logged-in user must have write access to the collection object (not the data object) in order to add the items.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the data was successfully updated in the DB. false, if none of the items were added. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element_array</td><td>An array of database element instances to be appended. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00388">388</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                  {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00283.html#af652505d9dfbdece45034591f371fb27">insertElements</a>($in_element_array, -1);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a30b8db04ff0dfd61f4d4a6a44ea2f67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b8db04ff0dfd61f4d4a6a44ea2f67f">&#9670;&nbsp;</a></span>areYouMyDaddy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::areYouMyDaddy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$full_hierachy</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This takes an element, and checks to see if it already exists in our hierarchy (anywhere).</p>
<dl class="section return"><dt>Returns</dt><dd>true, if this instance already has the presented object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The element to check. This can be an array, in which case, each element is checked. </td></tr>
    <tr><td class="paramname">$full_hierachy</td><td>If false, then only this level (not the full hierarchy) will be searched. Default is true. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00465">465</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                  {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        $children = $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span> (isset($children) &amp;&amp; is_array($children) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($children)) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">foreach</span> ($children as $object) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">if</span> ($object == $in_element) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    $ret = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="keywordflow">if</span> ($full_hierachy &amp;&amp; method_exists($object, <span class="stringliteral">&#39;areYouMyDaddy&#39;</span>)) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        <span class="keywordflow">if</span> ($object-&gt;areYouMyDaddy($in_element)) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                            $ret = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b874768720083a8a31c9fedcee30e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b874768720083a8a31c9fedcee30e6d">&#9670;&nbsp;</a></span>children()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::children </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an accessor for the child object array (instances). It should be noted that this may not be the same as the 'children' context variable, because the user may not be allowed to see all of the items.</p>
<dl class="section return"><dt>Returns</dt><dd>the child objects array. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00583">583</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                               {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (!isset($this-&gt;_container) || !$this-&gt;_container || (!<a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container))) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            $this-&gt;<a class="code" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            $this-&gt;<a class="code" href="a00283.html#a75c2f38ec2411f21f1c60ca591482e9c">_set_up_container</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a00283.html#a9b78bf90eb878f973b7c75030152327a">$this-&gt;_container</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00134_source.html#l00448">CO_User_Collection\delete_from_db()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00283_a1b874768720083a8a31c9fedcee30e6d_icgraph.svg" width="363" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a593bc645e10684d735cffff6b2bef1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a593bc645e10684d735cffff6b2bef1b4">&#9670;&nbsp;</a></span>children_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::children_ids </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_raw</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an accessor that returns a list of IDs for the direct children of this instance. This is "security vetted," so only IDs of children visible to the logged-in user are returned.</p>
<dl class="section return"><dt>Returns</dt><dd>the child ids array (array of integer). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_raw</td><td>This is only valid for "God Mode." If true, then the array is returned with no scrub, and no checks. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00598">598</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                  {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        $ret = [];</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> ($in_raw &amp;&amp; $this-&gt;get_access_object()-&gt;god_mode()) {   <span class="comment">// God gets it all.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span> (isset($this-&gt;context[<span class="stringliteral">&#39;children&#39;</span>])) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordflow">return</span> (array_map(<span class="stringliteral">&#39;intval&#39;</span>, explode(<span class="charliteral">&#39;,&#39;</span>, $this-&gt;context[<span class="stringliteral">&#39;children&#39;</span>])));</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">return</span> [];</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        $this-&gt;<a class="code" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> (isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]) &amp;&amp; is_array($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a> ($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            $ids = $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>];</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span> ($this-&gt;get_access_object()-&gt;god_mode()) {   <span class="comment">// God gets it all.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                $ret = $ids;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">foreach</span> ($ids as $id) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="keywordflow">if</span> ($this-&gt;get_access_object()-&gt;item_exists($id, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        $ret[] = intval($id);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a994648913ff9d5f7bb83640bd6239d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994648913ff9d5f7bb83640bd6239d44">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$is_recursive</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This counts the direct children of this collection, and returns that count. If recursive, then it counts everything inside, including owners. Remember that this is "security-aware." The collection may have children that are not visible to the current login.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of direct children. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$is_recursive</td><td>If true, then this will also count all "child" collections. Default is false. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00556">556</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                          {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        $children = $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        $my_count = 0;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">if</span> (isset($children) &amp;&amp; is_array($children)) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            $my_count = <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($children);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">if</span> ($is_recursive) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">foreach</span> ($children as $child) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="keywordflow">if</span> (method_exists($child, <span class="stringliteral">&#39;count&#39;</span>)) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                        $my_count += $child-&gt;count($is_recursive);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">return</span> $my_count;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00134_source.html#l00194">CO_User_Collection\is_god()</a>, <a class="el" href="a00134_source.html#l00240">CO_User_Collection\set_tag()</a>, and <a class="el" href="a00134_source.html#l00218">CO_User_Collection\set_tags()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00283_a994648913ff9d5f7bb83640bd6239d44_icgraph.svg" width="540" height="488"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8311e15149ea745a9ef8b7a93cf0c8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8311e15149ea745a9ef8b7a93cf0c8b9">&#9670;&nbsp;</a></span>deleteAllChildren()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::deleteAllChildren </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This deletes all children of the container. However, the container may have children we can't see, so we don't delete those. We only delete the ones we know about (which could be all of them).</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the new configuration was successfully updated in the DB. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00400">400</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                        {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;user_can_write() ) { <span class="comment">// You cannot delete from a collection if you don&#39;t have write privileges.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            $new_list = [];</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">if</span> (isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]) &amp;&amp; is_array($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">foreach</span> ($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] as $child_id) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="comment">// We save items in the list that we can&#39;t see.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    <span class="keywordflow">if</span> ($this-&gt;get_access_object()-&gt;item_exists($child_id) &amp;&amp; !$this-&gt;get_access_object()-&gt;can_i_see_this_data_record($child_id)) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        $new_list[] = $child_id;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            $this-&gt;_children = Array();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = $new_list;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">return</span> $this-&gt;update_db();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a86d03cafb40a68aaa2de7426942c91d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d03cafb40a68aaa2de7426942c91d8">&#9670;&nbsp;</a></span>deleteElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::deleteElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes a single element, by its 0-based index (not recursive). It should be noted that this does not delete the element from the database, and it is not recursive.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the element was successfully removed from the collection. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_index</td><td>The 0-based index of the element we want to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00340">340</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                  {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00283.html#a4ddd75904638d52a392afc6b84b98e5e">deleteElements</a>($in_index, 1);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ddd75904638d52a392afc6b84b98e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddd75904638d52a392afc6b84b98e5e">&#9670;&nbsp;</a></span>deleteElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::deleteElements </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_first_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_deletion_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes multiple elements from the collection. It should be noted that this does not delete the elements from the database, and it is not recursive. This is an atomic operation. If any of the elements can't be removed, then non of the elements can be removed. The one exception is that the deletion length can extend past the boundaries of the collection. It will be truncated.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the elements were successfully removed from the collection. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_first_index</td><td>The starting 0-based index of the first element to be removed from the collection. </td></tr>
    <tr><td class="paramname">$in_deletion_length</td><td>The number of elements to remove (including the first one). If this is negative, then elements will be removed from the index, backwards (-1 is the same as 1). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00271">271</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                  {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;user_can_write() ) { <span class="comment">// You cannot add to a collection if you don&#39;t have write privileges.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            $element_ids = Array(); <span class="comment">// We will keep track of which IDs we delete, so we can delete them from our context variable.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="comment">// If negative, we&#39;re going backwards.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">if</span> (0 &gt; $in_deletion_length) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                $in_deletion_length = abs($in_deletion_length);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                $in_first_index -= ($in_deletion_length - 1);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                $in_first_index = max(0, $in_first_index);  <span class="comment">// Make sure we stay within the lane markers.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            $last_index_plus_one = min(<a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container), $in_first_index + $in_deletion_length);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="comment">// We simply record the IDs of each of the elements we&#39;ll be deleting.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">for</span> ($i = $in_first_index; $i &lt; $last_index_plus_one; $i++) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                $element = $this-&gt;_container[$i];</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                $element_ids[] = $element-&gt;id();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> ($in_deletion_length == <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($element_ids)) {  <span class="comment">// Belt and suspenders. Make sure we are actually deleting the requested elements.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                $new_container = Array();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="comment">// We build a new container that doesn&#39;t have the deleted elements.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">foreach</span> ($this-&gt;_container as $element) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    $element_id = $element-&gt;id();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <span class="keywordflow">if</span> (!in_array($element_id, $element_ids)) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        $new_container[] = $element_id;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                $new_list = Array();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="comment">// We build a new list that doesn&#39;t have the deleted element IDs.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">while</span> ($element_id = array_shift($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keywordflow">if</span> (!in_array($element_id, $element_ids)) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        $new_list[] = $element_id;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                $new_list = array_unique($new_list);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                sort($new_list);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = $new_list;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                $ret = $this-&gt;update_db();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">if</span> (!$this-&gt;_batch_mode) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    $this-&gt;<a class="code" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            $this-&gt;error = <span class="keyword">new</span> <a class="code" href="a00359.html">LGV_Error</a>(   <a class="code" href="a00291.html#af41eefc3b64a8a057fd0301a1db31495">CO_CHAMELEON_Lang_Common::$co_collection_error_code_user_not_authorized</a>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                            <a class="code" href="a00295.html#a65a36618a3243ac4b12fb7e1c8e30819">CO_CHAMELEON_Lang::$co_collection_error_name_user_not_authorized</a>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                            <a class="code" href="a00295.html#a337efcdf9233f3911f02f957ccef0255">CO_CHAMELEON_Lang::$co_collection_error_desc_user_not_authorized</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00373_source.html#l00060">CO_CHAMELEON_Lang_Common\$co_collection_error_code_user_not_authorized</a>, <a class="el" href="a00388_source.html#l00042">CO_CHAMELEON_Lang\$co_collection_error_desc_user_not_authorized</a>, and <a class="el" href="a00388_source.html#l00041">CO_CHAMELEON_Lang\$co_collection_error_name_user_not_authorized</a>.</p>

</div>
</div>
<a id="af1a58251120a59dfd9267228f296bf48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a58251120a59dfd9267228f296bf48">&#9670;&nbsp;</a></span>deleteThisElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::deleteThisElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes a single element, by its actual object reference (not recursive). It should be noted that this does not delete the element from the database, and it is not recursive.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the element was successfully removed from the collection. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The element we want to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00352">352</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                      {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        $index = $this-&gt;<a class="code" href="a00283.html#aa72e834a71713d46d625e1a9f821171b">indexOfThisElement</a>($in_element);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">false</span> !== $index) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            $ret = $this-&gt;<a class="code" href="a00283.html#a86d03cafb40a68aaa2de7426942c91d8">deleteElement</a>(intval($index));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c9cc5488d477bc8b57a354e290a9f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9cc5488d477bc8b57a354e290a9f8b">&#9670;&nbsp;</a></span>getHierarchy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::getHierarchy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loop_stopper</em> = <code>Array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>an instance "map" of the collection. It returns an array of associative arrays. Each associative array has the following elements:<ul>
<li>'object' (Required). This is the actual instance that maps to this object.</li>
<li>'children' (optional -may not be instantiated). This is an array of the same associative arrays for any "child objects" of the current object. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$loop_stopper</td><td>This is used to prevent "hierarchy loops." As we descend into recursion, we save the collection ID here. If the ID shows up in a "lower" collection, we don't add that collection. This shouldn't happen anyway, as were're not supposed to have been able to add embedded collections, but we can't be too careful. There can only be one... </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00675">675</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                                      {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        $this-&gt;<a class="code" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a>();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        $instance = Array(<span class="stringliteral">&#39;object&#39;</span> =&gt; $this);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span> (method_exists($this, <span class="stringliteral">&#39;children&#39;</span>) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>())) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            $children = $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            $instance[<span class="stringliteral">&#39;children&#39;</span>] = Array();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keywordflow">foreach</span> ($children as $child) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="keywordflow">if</span> (method_exists($child, <span class="stringliteral">&#39;getHierarchy&#39;</span>)) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    <span class="keywordflow">if</span> (!in_array($child-&gt;id(), $loop_stopper)) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        $loop_stopper[] = $child-&gt;id();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        $instance[<span class="stringliteral">&#39;children&#39;</span>][] = $child-&gt;getHierarchy($loop_stopper);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    $instance[<span class="stringliteral">&#39;children&#39;</span>][] = Array(<span class="stringliteral">&#39;object&#39;</span> =&gt; $child);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">return</span> $instance;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa72e834a71713d46d625e1a9f821171b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72e834a71713d46d625e1a9f821171b">&#9670;&nbsp;</a></span>indexOfThisElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::indexOfThisElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the 0-based index of the given element, or false, if the element is not in the collection (This is not recursive). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The element we're looking for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00425">425</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                          {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">return</span> array_search($in_element, $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>());</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3dcc65f580083dd5c96a1515697e470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dcc65f580083dd5c96a1515697e470">&#9670;&nbsp;</a></span>insertElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::insertElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_before_index</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dont_update</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This inserts one record to just before the indexed item (0-based index). If the index is -1, the length of the collection or larger, then the item will be appeneded. Collection elements cannot be already in the collection at any level, as that could cause a loop. We also don't allow duplicates of any instance in the same level of a collection. Only the first instance is retained. Subsequent copies are removed. The logged-in user must have write access to the collection object (not the data object) in order to add the item. You can opt out of the automatic database update.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the data was successfully added. If a DB update was done, then the response is the one from the update. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The database record to add. </td></tr>
    <tr><td class="paramname">$in_before_index</td><td>The index of the element (in the current list) BEFORE which the insertion will be made. Default is -1 (append). </td></tr>
    <tr><td class="paramname">$dont_update</td><td>true, if we are to skip the DB update (default is false). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00102">102</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> ($in_element instanceof <a class="code" href="a00311.html">A_CO_DB_Table_Base</a>) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">if</span> ($this-&gt;user_can_write() ) { <span class="comment">// You cannot add to a collection if you don&#39;t have write privileges.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">if</span> (!(method_exists($in_element, <span class="stringliteral">&#39;insertElement&#39;</span>) &amp;&amp; $this-&gt;<a class="code" href="a00283.html#a30b8db04ff0dfd61f4d4a6a44ea2f67f">areYouMyDaddy</a>($in_element))) {   <span class="comment">// Make sure that a collection isn&#39;t already in the woodpile somewhere.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    $id = intval($in_element-&gt;id());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="keywordflow">if</span> (!isset($this-&gt;_container) || !is_array($this-&gt;_container)) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                        $this-&gt;_container = [];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">if</span> (!isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]) || !is_array($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = [];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <span class="keywordflow">if</span> (!in_array($id, $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        <span class="keywordflow">if</span> ((-1 == $in_before_index) || (NULL == $in_before_index) || !isset($in_before_index)) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                            $in_before_index = <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        $before_array = Array();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        <span class="keywordflow">if</span> ($in_before_index) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                            $before_array = array_slice($this-&gt;_container, 0, $in_before_index, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                        }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                        $after_array = Array();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        <span class="keywordflow">if</span> ($in_before_index &lt; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container)) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                            $end_count = <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container) - $in_before_index;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                            $after_array = array_slice($this-&gt;_container, $end_count, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        $element_array = Array($in_element);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        $merged = array_merge($before_array, $element_array, $after_array);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        $this-&gt;_container = $merged;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        $ret = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                        <span class="keywordflow">if</span> (!isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                            $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = Array();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        $ids = array_map(<span class="stringliteral">&#39;intval&#39;</span>, $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        <span class="keywordflow">if</span> (!in_array($id, $ids)) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                            $ids[] = $id;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                            $ids = array_unique($ids);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                            sort($ids);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                            $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = $ids;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">if</span> ($ret &amp;&amp; !$dont_update) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    $ret = $this-&gt;update_db();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                $this-&gt;error = <span class="keyword">new</span> <a class="code" href="a00359.html">LGV_Error</a>(   <a class="code" href="a00291.html#af41eefc3b64a8a057fd0301a1db31495">CO_CHAMELEON_Lang_Common::$co_collection_error_code_user_not_authorized</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                <a class="code" href="a00295.html#a65a36618a3243ac4b12fb7e1c8e30819">CO_CHAMELEON_Lang::$co_collection_error_name_user_not_authorized</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                                <a class="code" href="a00295.html#a337efcdf9233f3911f02f957ccef0255">CO_CHAMELEON_Lang::$co_collection_error_desc_user_not_authorized</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00373_source.html#l00060">CO_CHAMELEON_Lang_Common\$co_collection_error_code_user_not_authorized</a>, <a class="el" href="a00388_source.html#l00042">CO_CHAMELEON_Lang\$co_collection_error_desc_user_not_authorized</a>, and <a class="el" href="a00388_source.html#l00041">CO_CHAMELEON_Lang\$co_collection_error_name_user_not_authorized</a>.</p>

</div>
</div>
<a id="af652505d9dfbdece45034591f371fb27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af652505d9dfbdece45034591f371fb27">&#9670;&nbsp;</a></span>insertElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::insertElements </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_before_index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This inserts multiple records to just before the indexed item (0-based index). If the index is -1, the length of the collection or larger, then the items will be appeneded. Collection elements cannot be already in the collection at any level, as that could cause a loop. We also don't allow duplicates of any class in the same level of a collection. Only the first instance is retained. Subsequent copies are removed. The logged-in user must have write access to the collection object (not the data objects) in order to add the items. You can opt out of the automatic database update.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the data was successfully updated in the DB. false, if none of the items were added. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element_array</td><td>An array of database element instances to be inserted. </td></tr>
    <tr><td class="paramname">$in_before_index</td><td>The index of the element (in the current list) BEFORE which the insertion will be made. Default is -1 (append). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00182">182</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                  {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;user_can_write() ) { <span class="comment">// You cannot add to a collection if you don&#39;t have write privileges.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            $i_have_a_daddy = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">foreach</span> ($in_element_array as $element) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="comment">// We can&#39;t insert nested collections.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">if</span> (method_exists($element, <span class="stringliteral">&#39;insertElement&#39;</span>) &amp;&amp; $this-&gt;<a class="code" href="a00283.html#a30b8db04ff0dfd61f4d4a6a44ea2f67f">areYouMyDaddy</a>($element)) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    $i_have_a_daddy = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span> (!$i_have_a_daddy) { <span class="comment">// DON&#39;T CROSS THE STREAMS!</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">if</span> (!isset($this-&gt;_container) || !is_array($this-&gt;_container)) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    $this-&gt;_container = Array();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">if</span> ((-1 == $in_before_index) || (NULL == $in_before_index) || !isset($in_before_index)) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    $in_before_index = <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                $before_array = Array();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">if</span> ($in_before_index) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    $before_array = array_slice($this-&gt;_container, 0, $in_before_index, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                $after_array = Array();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">if</span> ($in_before_index &lt; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container)) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    $end_count = <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($this-&gt;_container) - $in_before_index;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    $after_array = array_slice($this-&gt;_container, $end_count, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                $merged = array_merge($before_array, $in_element_array, $after_array);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                $unique  = array();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="keywordflow">foreach</span> ($merged as $current) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="keywordflow">if</span> (!in_array($current, $unique)) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        $unique[] = $current;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                $this-&gt;_container = $unique;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                $ret = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">if</span> (!isset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>])) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = Array();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">foreach</span> ($in_element_array as $element) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    $id = intval($element-&gt;id());</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    $ids = array_map(<span class="stringliteral">&#39;intval&#39;</span>, $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="keywordflow">if</span> (!in_array($id, $ids)) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        $ids[] = $id;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        $ids = array_unique($ids);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        sort($ids);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        $this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>] = $ids;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> ($ret) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                $ret = $this-&gt;update_db();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            $this-&gt;error = <span class="keyword">new</span> <a class="code" href="a00359.html">LGV_Error</a>(   <a class="code" href="a00291.html#af41eefc3b64a8a057fd0301a1db31495">CO_CHAMELEON_Lang_Common::$co_collection_error_code_user_not_authorized</a>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                            <a class="code" href="a00295.html#a65a36618a3243ac4b12fb7e1c8e30819">CO_CHAMELEON_Lang::$co_collection_error_name_user_not_authorized</a>,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                            <a class="code" href="a00295.html#a337efcdf9233f3911f02f957ccef0255">CO_CHAMELEON_Lang::$co_collection_error_desc_user_not_authorized</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00373_source.html#l00060">CO_CHAMELEON_Lang_Common\$co_collection_error_code_user_not_authorized</a>, <a class="el" href="a00388_source.html#l00042">CO_CHAMELEON_Lang\$co_collection_error_desc_user_not_authorized</a>, and <a class="el" href="a00388_source.html#l00041">CO_CHAMELEON_Lang\$co_collection_error_name_user_not_authorized</a>.</p>

</div>
</div>
<a id="afd91d5e797e98c82395cf83b7939012b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd91d5e797e98c82395cf83b7939012b">&#9670;&nbsp;</a></span>map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::map </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This applies a given function to each of the elements in the child list. The function needs to have a signature of function mixed map_func(mixed $item);</p>
<dl class="section return"><dt>Returns</dt><dd>a flat array of function results. The array maps to the children array. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_function</td><td>The function to be applied to each element. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00498">498</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                          {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        $ret = Array();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        $children = $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">foreach</span> ($children as $child) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            $result = $in_function($child);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            $ret[] = $result;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> self::class;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af94a8433444274816e1da61651247894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94a8433444274816e1da61651247894">&#9670;&nbsp;</a></span>recursiveMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::recursiveMap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_hierarchy_level</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_parent_object</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loop_stopper</em> = <code>Array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This applies a given function to each of the elements in the child list, and any embedded (recursive) ones. The function needs to have a signature of function mixed map_func(mixed $item, integer $hierarchy_level, mixed $parent_object);</p>
<dl class="section return"><dt>Returns</dt><dd>a flat array of function results. This array may be larger than the children array, as it will also contain any nested collections. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_function</td><td>This is the function to be applied to all elements. </td></tr>
    <tr><td class="paramname">$in_hierarchy_level</td><td>This is a 0-based integer that tells the callback how many "levels deep" the function is. </td></tr>
    <tr><td class="paramname">$in_parent_object</td><td>This is the collection object that is the "parent" of the current array. </td></tr>
    <tr><td class="paramname">$loop_stopper</td><td>This is used to prevent "hierarchy loops." As we descend into recursion, we save the collection ID here. If the ID shows up in a "lower" collection, we don't add that collection. This shouldn't happen anyway, as were're not supposed to have been able to add embedded collections, but we can't be too careful. There can only be one... </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00519">519</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                  {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        $in_hierarchy_level = intval($in_hierarchy_level);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        $ret = Array($in_function($this, $in_hierarchy_level, $in_parent_object));</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        $children = $this-&gt;<a class="code" href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">children</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">foreach</span> ($children as $child) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">if</span> (method_exists($child, <span class="stringliteral">&#39;recursiveMap&#39;</span>)) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (!in_array($child-&gt;id(), $loop_stopper)) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    $loop_stopper[] = $child-&gt;id();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    $result = $child-&gt;recursiveMap($in_function, ++$in_hierarchy_level, $this, $loop_stopper);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                $result = Array($in_function($child, ++$in_hierarchy_level, $this));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            $ret = array_merge($ret, $result);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3413adf1ce02938cb63fd41c83d50a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3413adf1ce02938cb63fd41c83d50a90">&#9670;&nbsp;</a></span>reload_collection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::reload_collection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method forces a reload of the collection data. </p>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00087">87</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                        {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        $this-&gt;<a class="code" href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">_scrub</a>();    <span class="comment">// Garbage collection.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        $this-&gt;<a class="code" href="a00283.html#a75c2f38ec2411f21f1c60ca591482e9c">_set_up_container</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cd7c8dca807e2bb35c87c922a37e870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd7c8dca807e2bb35c87c922a37e870">&#9670;&nbsp;</a></span>set_children_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::set_children_ids </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_new_ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a "God Mode-only" method that is used to wholesale replace the entire children array.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the operation was allowed and successful. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_new_ids</td><td>This is an array of integers, with the IDs of new children. This entirely replaces the current array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00632">632</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                      {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        $ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;get_access_object()-&gt;god_mode()) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            $this-&gt;_children = Array();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            $this-&gt;context[<span class="stringliteral">&#39;children&#39;</span>] = implode(<span class="charliteral">&#39;,&#39;</span>, $in_new_ids);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            unset($this-&gt;context[<span class="stringliteral">&#39;children_ids&#39;</span>]);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            $ret = $this-&gt;update_db();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a378415ffa5f222d940e6b1021943a2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378415ffa5f222d940e6b1021943a2ea">&#9670;&nbsp;</a></span>who_are_my_parents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::who_are_my_parents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>an array of any direct parents of the current object. The returned objects will be collection instances. An empty array will be returned if no parents found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00650">650</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                                         {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        $ret = [];</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        $result = $this-&gt;get_access_object()-&gt;generic_search(Array(<span class="stringliteral">&#39;access_class&#39;</span> =&gt; Array(<span class="stringliteral">&#39;%_Collection%&#39;</span>, <span class="stringliteral">&#39;use_like&#39;</span> =&gt; 1)));</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordflow">if</span> (isset($result) &amp;&amp; is_array($result) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($result)) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">foreach</span> ($result as $object) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                <span class="keywordflow">if</span> (($object instanceof <a class="code" href="a00319.html">CO_Main_DB_Record</a>) &amp;&amp; method_exists($object, <span class="stringliteral">&#39;areYouMyDaddy&#39;</span>)) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    <span class="keywordflow">if</span> ($object-&gt;areYouMyDaddy($this, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        $ret[] = $object;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a74af3417e451cf8685eee19dff2be59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74af3417e451cf8685eee19dff2be59d">&#9670;&nbsp;</a></span>whosYourDaddy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::whosYourDaddy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This takes an element, and returns its parent collection object (if available). This only checks the current collection and its "child" collection objects.</p>
<dl class="section return"><dt>Returns</dt><dd>an array of instances of a collection class, if that instance is the "parent" of the presented object. It may be this instance, or a "child" instance of this class. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_element</td><td>The element to check. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00437">437</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                  {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        $ret = NULL;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        $id = intval($in_element-&gt;id());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        $ret_array = $this-&gt;<a class="code" href="a00283.html#af94a8433444274816e1da61651247894">recursiveMap</a>(<span class="keyword">function</span>($instance, $hierarchy_level, $parent){</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                $id = intval($instance-&gt;id());</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">return</span> Array($id, $parent);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            });</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (isset($ret_array) &amp;&amp; is_array($ret_array) &amp;&amp; <a class="code" href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">count</a>($ret_array)) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            $ret = Array();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">foreach</span> ($ret_array as $item) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keywordflow">if</span> ($item[0] == $id) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    $ret[] = $item[1];</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">return</span> $ret;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b78bf90eb878f973b7c75030152327a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b78bf90eb878f973b7c75030152327a">&#9670;&nbsp;</a></span>$_container</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Collection::$_container</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This contains instances of the records referenced by the IDs stored in the object. </p>

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00038">38</a> of file <a class="el" href="a00137_source.html">tco_collection.interface.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa00283_html_aa70eb8c1b0f5ee56325a1b150247c939"><div class="ttname"><a href="a00283.html#aa70eb8c1b0f5ee56325a1b150247c939">tCO_Collection\_scrub</a></div><div class="ttdeci">_scrub()</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00045">tco_collection.interface.php:45</a></div></div>
<div class="ttc" id="aa00283_html_a86d03cafb40a68aaa2de7426942c91d8"><div class="ttname"><a href="a00283.html#a86d03cafb40a68aaa2de7426942c91d8">tCO_Collection\deleteElement</a></div><div class="ttdeci">deleteElement( $in_index)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00340">tco_collection.interface.php:340</a></div></div>
<div class="ttc" id="aa00283_html_a30b8db04ff0dfd61f4d4a6a44ea2f67f"><div class="ttname"><a href="a00283.html#a30b8db04ff0dfd61f4d4a6a44ea2f67f">tCO_Collection\areYouMyDaddy</a></div><div class="ttdeci">areYouMyDaddy( $in_element, $full_hierachy=true)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00465">tco_collection.interface.php:465</a></div></div>
<div class="ttc" id="aa00283_html_a75c2f38ec2411f21f1c60ca591482e9c"><div class="ttname"><a href="a00283.html#a75c2f38ec2411f21f1c60ca591482e9c">tCO_Collection\_set_up_container</a></div><div class="ttdeci">_set_up_container()</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00073">tco_collection.interface.php:73</a></div></div>
<div class="ttc" id="aa00359_html"><div class="ttname"><a href="a00359.html">LGV_Error</a></div><div class="ttdoc">This class provides a general error report, with file, method and error information.</div><div class="ttdef"><b>Definition:</b> <a href="a00182_source.html#l00032">error.class.php:32</a></div></div>
<div class="ttc" id="aa00283_html_a9b78bf90eb878f973b7c75030152327a"><div class="ttname"><a href="a00283.html#a9b78bf90eb878f973b7c75030152327a">tCO_Collection\$_container</a></div><div class="ttdeci">$_container</div><div class="ttdoc">This contains instances of the records referenced by the IDs stored in the object.</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00038">tco_collection.interface.php:38</a></div></div>
<div class="ttc" id="aa00283_html_a1b874768720083a8a31c9fedcee30e6d"><div class="ttname"><a href="a00283.html#a1b874768720083a8a31c9fedcee30e6d">tCO_Collection\children</a></div><div class="ttdeci">children()</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00583">tco_collection.interface.php:583</a></div></div>
<div class="ttc" id="aa00311_html"><div class="ttname"><a href="a00311.html">A_CO_DB_Table_Base</a></div><div class="ttdef"><b>Definition:</b> <a href="a00152_source.html#l00043">a_co_db_table_base.class.php:43</a></div></div>
<div class="ttc" id="aa00295_html_a337efcdf9233f3911f02f957ccef0255"><div class="ttname"><a href="a00295.html#a337efcdf9233f3911f02f957ccef0255">CO_CHAMELEON_Lang\$co_collection_error_desc_user_not_authorized</a></div><div class="ttdeci">static $co_collection_error_desc_user_not_authorized</div><div class="ttdef"><b>Definition:</b> <a href="a00388_source.html#l00042">en.php:42</a></div></div>
<div class="ttc" id="aa00283_html_af94a8433444274816e1da61651247894"><div class="ttname"><a href="a00283.html#af94a8433444274816e1da61651247894">tCO_Collection\recursiveMap</a></div><div class="ttdeci">recursiveMap( $in_function, $in_hierarchy_level=0, $in_parent_object=NULL, $loop_stopper=Array())</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00519">tco_collection.interface.php:519</a></div></div>
<div class="ttc" id="aa00319_html"><div class="ttname"><a href="a00319.html">CO_Main_DB_Record</a></div><div class="ttdef"><b>Definition:</b> <a href="a00158_source.html#l00038">co_main_db_record.class.php:38</a></div></div>
<div class="ttc" id="aa00283_html_aa72e834a71713d46d625e1a9f821171b"><div class="ttname"><a href="a00283.html#aa72e834a71713d46d625e1a9f821171b">tCO_Collection\indexOfThisElement</a></div><div class="ttdeci">indexOfThisElement( $in_element)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00425">tco_collection.interface.php:425</a></div></div>
<div class="ttc" id="aa00295_html_a65a36618a3243ac4b12fb7e1c8e30819"><div class="ttname"><a href="a00295.html#a65a36618a3243ac4b12fb7e1c8e30819">CO_CHAMELEON_Lang\$co_collection_error_name_user_not_authorized</a></div><div class="ttdeci">static $co_collection_error_name_user_not_authorized</div><div class="ttdef"><b>Definition:</b> <a href="a00388_source.html#l00041">en.php:41</a></div></div>
<div class="ttc" id="aa00291_html_af41eefc3b64a8a057fd0301a1db31495"><div class="ttname"><a href="a00291.html#af41eefc3b64a8a057fd0301a1db31495">CO_CHAMELEON_Lang_Common\$co_collection_error_code_user_not_authorized</a></div><div class="ttdeci">static $co_collection_error_code_user_not_authorized</div><div class="ttdef"><b>Definition:</b> <a href="a00373_source.html#l00060">common.inc.php:60</a></div></div>
<div class="ttc" id="aa00283_html_a4ddd75904638d52a392afc6b84b98e5e"><div class="ttname"><a href="a00283.html#a4ddd75904638d52a392afc6b84b98e5e">tCO_Collection\deleteElements</a></div><div class="ttdeci">deleteElements( $in_first_index, $in_deletion_length)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00271">tco_collection.interface.php:271</a></div></div>
<div class="ttc" id="aa00283_html_ad3dcc65f580083dd5c96a1515697e470"><div class="ttname"><a href="a00283.html#ad3dcc65f580083dd5c96a1515697e470">tCO_Collection\insertElement</a></div><div class="ttdeci">insertElement( $in_element, $in_before_index=-1, $dont_update=false)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00102">tco_collection.interface.php:102</a></div></div>
<div class="ttc" id="aa00283_html_af652505d9dfbdece45034591f371fb27"><div class="ttname"><a href="a00283.html#af652505d9dfbdece45034591f371fb27">tCO_Collection\insertElements</a></div><div class="ttdeci">insertElements( $in_element_array, $in_before_index=-1)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00182">tco_collection.interface.php:182</a></div></div>
<div class="ttc" id="aa00283_html_a994648913ff9d5f7bb83640bd6239d44"><div class="ttname"><a href="a00283.html#a994648913ff9d5f7bb83640bd6239d44">tCO_Collection\count</a></div><div class="ttdeci">count( $is_recursive=false)</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00556">tco_collection.interface.php:556</a></div></div>
