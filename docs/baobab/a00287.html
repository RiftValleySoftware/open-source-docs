<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BAOBAB: tCO_Owner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BAOBAB
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00287.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a00284.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tCO_Owner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for tCO_Owner:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00286.svg" width="144" height="286"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Collaboration diagram for tCO_Owner:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00285.svg" width="144" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a08d533a0fd2f4c45b983b237f836d03c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#a08d533a0fd2f4c45b983b237f836d03c">adopt_child</a> ( $in_object_to_own)</td></tr>
<tr class="separator:a08d533a0fd2f4c45b983b237f836d03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367cbc9069c2c9bc9ef7098595762f4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#a367cbc9069c2c9bc9ef7098595762f4a">count</a> ()</td></tr>
<tr class="separator:a367cbc9069c2c9bc9ef7098595762f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add13161a342c13f60d3e06c705ed5a39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#add13161a342c13f60d3e06c705ed5a39">children_ids</a> ()</td></tr>
<tr class="separator:add13161a342c13f60d3e06c705ed5a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4949c383c2fbb2e72d4e2fbe1438c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#a5e4949c383c2fbb2e72d4e2fbe1438c8">children</a> ()</td></tr>
<tr class="separator:a5e4949c383c2fbb2e72d4e2fbe1438c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3d803d27fc0bf5734c7fe732164336"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#afd3d803d27fc0bf5734c7fe732164336">generic_search</a> ( $in_search_parameters=NULL, $page_size=0, $initial_page=0, $and_writeable=false, $count_only=false, $ids_only=false)</td></tr>
<tr class="separator:afd3d803d27fc0bf5734c7fe732164336"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0d9547a49f89dc04a8950139f0febd68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a> = NULL</td></tr>
<tr class="memdesc:a0d9547a49f89dc04a8950139f0febd68"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the ID We will use for the "owner." If left NULL, then the instance ID is used instead.  <a href="#a0d9547a49f89dc04a8950139f0febd68">More...</a><br /></td></tr>
<tr class="separator:a0d9547a49f89dc04a8950139f0febd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a136c693612f17f0e8c553abfec4b6143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00287.html#a136c693612f17f0e8c553abfec4b6143">$_cached_ids</a> = NULL</td></tr>
<tr class="memdesc:a136c693612f17f0e8c553abfec4b6143"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will contain our "owned" IDs after we load.  <a href="#a136c693612f17f0e8c553abfec4b6143">More...</a><br /></td></tr>
<tr class="separator:a136c693612f17f0e8c553abfec4b6143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a trait for the basic "owner" aggregator functionality.</p>
<p>Owners are VERY simple aggregates. They only allow a very rough "pre-filter" for searches. If you want to get fancier, use a collection (but you won't be able to handle as many children). </p>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00036">36</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a08d533a0fd2f4c45b983b237f836d03c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d533a0fd2f4c45b983b237f836d03c">&#9670;&nbsp;</a></span>adopt_child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::adopt_child </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_object_to_own</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method will change a given object to have this as its owner.</p>
<dl class="section return"><dt>Returns</dt><dd>true, if the object's owner changed successfully. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_object_to_own</td><td>The instance that will be "owned" by this instance. The user must have write privileges on the onject. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00046">46</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>

<p class="reference">References <a class="el" href="a00379_source.html#l00061">CO_CHAMELEON_Lang_Common\$co_owner_error_code_user_not_authorized</a>, <a class="el" href="a00394_source.html#l00046">CO_CHAMELEON_Lang\$co_owner_error_desc_user_not_authorized</a>, and <a class="el" href="a00394_source.html#l00045">CO_CHAMELEON_Lang\$co_owner_error_name_user_not_authorized</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                  {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        $ret = <span class="keyword">false</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        </div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a> = intval($this-&gt;my_owner_id) ? intval($this-&gt;my_owner_id) : $this-&gt;id();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> ($in_object_to_own-&gt;owner_id() != <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a>) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordflow">if</span> ($in_object-&gt;user_can_write()) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                $ret = $in_object-&gt;set_owner_id(<a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                $this-&gt;error = <span class="keyword">new</span> <a class="code" href="a00359.html">LGV_Error</a>(   <a class="code" href="a00291.html#a50bb6647f5ce91c0b5280f345175cc35">CO_CHAMELEON_Lang_Common::$co_owner_error_code_user_not_authorized</a>,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                <a class="code" href="a00295.html#adbb5a6abee673dd854291b98b6300007">CO_CHAMELEON_Lang::$co_owner_error_name_user_not_authorized</a>,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                <a class="code" href="a00295.html#abe5e8a747797dcdc1d034b7b5a291e1b">CO_CHAMELEON_Lang::$co_owner_error_desc_user_not_authorized</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            } </div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        </div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> $ret;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="ttc" id="a00359_html"><div class="ttname"><a href="a00359.html">LGV_Error</a></div><div class="ttdoc">This class provides a general error report, with file, method and error information. </div><div class="ttdef"><b>Definition:</b> <a href="a00182_source.html#l00032">error.class.php:32</a></div></div>
<div class="ttc" id="a00295_html_adbb5a6abee673dd854291b98b6300007"><div class="ttname"><a href="a00295.html#adbb5a6abee673dd854291b98b6300007">CO_CHAMELEON_Lang\$co_owner_error_name_user_not_authorized</a></div><div class="ttdeci">static $co_owner_error_name_user_not_authorized</div><div class="ttdoc">These apply to the Owner classes. </div><div class="ttdef"><b>Definition:</b> <a href="a00394_source.html#l00045">en.php:45</a></div></div>
<div class="ttc" id="a00291_html_a50bb6647f5ce91c0b5280f345175cc35"><div class="ttname"><a href="a00291.html#a50bb6647f5ce91c0b5280f345175cc35">CO_CHAMELEON_Lang_Common\$co_owner_error_code_user_not_authorized</a></div><div class="ttdeci">static $co_owner_error_code_user_not_authorized</div><div class="ttdef"><b>Definition:</b> <a href="a00379_source.html#l00061">common.inc.php:61</a></div></div>
<div class="ttc" id="a00295_html_abe5e8a747797dcdc1d034b7b5a291e1b"><div class="ttname"><a href="a00295.html#abe5e8a747797dcdc1d034b7b5a291e1b">CO_CHAMELEON_Lang\$co_owner_error_desc_user_not_authorized</a></div><div class="ttdeci">static $co_owner_error_desc_user_not_authorized</div><div class="ttdef"><b>Definition:</b> <a href="a00394_source.html#l00046">en.php:46</a></div></div>
<div class="ttc" id="a00287_html_a0d9547a49f89dc04a8950139f0febd68"><div class="ttname"><a href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">tCO_Owner\$my_owner_id</a></div><div class="ttdeci">$my_owner_id</div><div class="ttdoc">This is the ID We will use for the &quot;owner.&quot; If left NULL, then the instance ID is used instead...</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00037">tco_owner.interface.php:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e4949c383c2fbb2e72d4e2fbe1438c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4949c383c2fbb2e72d4e2fbe1438c8">&#9670;&nbsp;</a></span>children()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::children </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>WARNING: Since the "owner" object is for big, fat datasets, this could blow up memory!</p>
<dl class="section return"><dt>Returns</dt><dd>an array of instances, comprising all "owned" instances. This could recurse, inside the "child" objects. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00096">96</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                               {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        $children_ids = $this-&gt;<a class="code" href="a00287.html#add13161a342c13f60d3e06c705ed5a39">children_ids</a>();</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> $this-&gt;get_access_object()-&gt;get_multiple_data_records_by_id($children_ids);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="ttc" id="a00287_html_add13161a342c13f60d3e06c705ed5a39"><div class="ttname"><a href="a00287.html#add13161a342c13f60d3e06c705ed5a39">tCO_Owner\children_ids</a></div><div class="ttdeci">children_ids()</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00081">tco_owner.interface.php:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add13161a342c13f60d3e06c705ed5a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add13161a342c13f60d3e06c705ed5a39">&#9670;&nbsp;</a></span>children_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::children_ids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>an array of integers, with the "owned" object IDs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00081">81</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                   {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (!((isset($this-&gt;_cached_ids) &amp;&amp; is_array($this-&gt;_cached_ids) &amp;&amp; <a class="code" href="a00287.html#a367cbc9069c2c9bc9ef7098595762f4a">count</a>($this-&gt;_cached_ids)))) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a> = intval($this-&gt;my_owner_id) ? intval($this-&gt;my_owner_id) : $this-&gt;id();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            $this-&gt;_cached_ids = $this-&gt;get_access_object()-&gt;generic_search(Array(<span class="stringliteral">&#39;owner&#39;</span> =&gt; <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a>), <span class="keyword">false</span>, 0, 0, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        </div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a00287.html#a136c693612f17f0e8c553abfec4b6143">$this-&gt;_cached_ids</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="ttc" id="a00287_html_a367cbc9069c2c9bc9ef7098595762f4a"><div class="ttname"><a href="a00287.html#a367cbc9069c2c9bc9ef7098595762f4a">tCO_Owner\count</a></div><div class="ttdeci">count()</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00070">tco_owner.interface.php:70</a></div></div>
<div class="ttc" id="a00287_html_a136c693612f17f0e8c553abfec4b6143"><div class="ttname"><a href="a00287.html#a136c693612f17f0e8c553abfec4b6143">tCO_Owner\$_cached_ids</a></div><div class="ttdeci">$_cached_ids</div><div class="ttdoc">This will contain our &quot;owned&quot; IDs after we load. </div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00038">tco_owner.interface.php:38</a></div></div>
<div class="ttc" id="a00287_html_a0d9547a49f89dc04a8950139f0febd68"><div class="ttname"><a href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">tCO_Owner\$my_owner_id</a></div><div class="ttdeci">$my_owner_id</div><div class="ttdoc">This is the ID We will use for the &quot;owner.&quot; If left NULL, then the instance ID is used instead...</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00037">tco_owner.interface.php:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a367cbc9069c2c9bc9ef7098595762f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a367cbc9069c2c9bc9ef7098595762f4a">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This counts the direct children of this collection, and returns that count.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of children. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00070">70</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                            {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        $children_ids = $this-&gt;<a class="code" href="a00287.html#add13161a342c13f60d3e06c705ed5a39">children_ids</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        $my_count = isset($children_ids) &amp;&amp; is_array($children_ids) ? <a class="code" href="a00287.html#a367cbc9069c2c9bc9ef7098595762f4a">count</a>($children_ids) : 0;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                </div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> $my_count;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div><div class="ttc" id="a00287_html_a367cbc9069c2c9bc9ef7098595762f4a"><div class="ttname"><a href="a00287.html#a367cbc9069c2c9bc9ef7098595762f4a">tCO_Owner\count</a></div><div class="ttdeci">count()</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00070">tco_owner.interface.php:70</a></div></div>
<div class="ttc" id="a00287_html_add13161a342c13f60d3e06c705ed5a39"><div class="ttname"><a href="a00287.html#add13161a342c13f60d3e06c705ed5a39">tCO_Owner\children_ids</a></div><div class="ttdeci">children_ids()</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00081">tco_owner.interface.php:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd3d803d27fc0bf5734c7fe732164336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3d803d27fc0bf5734c7fe732164336">&#9670;&nbsp;</a></span>generic_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::generic_search </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_search_parameters</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$page_size</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$initial_page</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$and_writeable</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$count_only</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ids_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a "generic" data database search. It can be called from external user contexts, and allows a fairly generalized search of the "data" database. Sorting will be done for the "owner" and "location" values. "owner" will be sorted by the ID of the returned records, and "location" will be by distance from the center. This will ignore any "owner" parameters, and will only look for this specific owner. There is no "OR" search. It is always "AND."</p>
<p>It is "security-safe."</p>
<dl class="section return"><dt>Returns</dt><dd>an array of instances that match the search parameters. If $count_only is true, then it will be a single integer, with the count of responses to the search (if a page, then only the number of items on that page). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_search_parameters</td><td>This is an associative array of terms to define the search. The keys should be:<ul>
<li>'id' This should be accompanied by an array of one or more integers, representing specific item IDs. These can only be ones "owned" by this instance.</li>
<li>'access_class' This should be accompanied by an array, containing one or more PHP class names.</li>
<li>'name' This will contain a case-insensitive array of strings to check against the object_name column.</li>
<li>'tags' This should be accompanied by an array (up to 10 elements) of one or more case-insensitive strings, representing specific tag values.</li>
<li>'location' This requires that the parameter be a 3-element associative array of floating-point numbers:<ul>
<li>'longtude' This is the search center location longitude, in degrees.</li>
<li>'latitude' This is the search center location latitude, in degrees.</li>
<li>'radius' This is the search radius, in Kilometers. </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramname">$page_size</td><td>If specified with a 1-based integer, this denotes the size of a "page" of results. NOTE: This is only applicable to MySQL or Postgres, and will be ignored if the DB is not MySQL or Postgres. </td></tr>
    <tr><td class="paramname">$initial_page</td><td>This is ignored unless $page_size is greater than 0. If so, then this 0-based index will specify which page of results to return. </td></tr>
    <tr><td class="paramname">$and_writeable</td><td>If true, then we only want records we can modify. </td></tr>
    <tr><td class="paramname">$count_only</td><td>If true (default is false), then only a single integer will be returned, with the count of items that fit the search. </td></tr>
    <tr><td class="paramname">$ids_only</td><td>If true (default is false), then the return array will consist only of integers (the object IDs). If $count_only is true, this is ignored. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00112">112</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                      {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a> = intval($this-&gt;my_owner_id) ? intval($this-&gt;my_owner_id) : $this-&gt;id();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        $in_search_parameters[<span class="stringliteral">&#39;owner&#39;</span>] = <a class="code" href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">$my_owner_id</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> $this-&gt;get_access_object()-&gt;generic_search($in_search_parameters, <span class="keyword">false</span>, $page_size, $initial_page, $and_writeable, $count_only, $ids_only);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        </div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> $ret;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="ttc" id="a00287_html_a0d9547a49f89dc04a8950139f0febd68"><div class="ttname"><a href="a00287.html#a0d9547a49f89dc04a8950139f0febd68">tCO_Owner\$my_owner_id</a></div><div class="ttdeci">$my_owner_id</div><div class="ttdoc">This is the ID We will use for the &quot;owner.&quot; If left NULL, then the instance ID is used instead...</div><div class="ttdef"><b>Definition:</b> <a href="a00140_source.html#l00037">tco_owner.interface.php:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a136c693612f17f0e8c553abfec4b6143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136c693612f17f0e8c553abfec4b6143">&#9670;&nbsp;</a></span>$_cached_ids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::$_cached_ids = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will contain our "owned" IDs after we load. </p>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00038">38</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>

</div>
</div>
<a id="a0d9547a49f89dc04a8950139f0febd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9547a49f89dc04a8950139f0febd68">&#9670;&nbsp;</a></span>$my_owner_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tCO_Owner::$my_owner_id = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the ID We will use for the "owner." If left NULL, then the instance ID is used instead. </p>

<p class="definition">Definition at line <a class="el" href="a00140_source.html#l00037">37</a> of file <a class="el" href="a00140_source.html">tco_owner.interface.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
