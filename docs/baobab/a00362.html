<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BAOBAB: PLACES</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BAOBAB
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00362.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PLACES </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="BASALT-PLUGIN.png" alt="BASALT-PLUGIN.png"/>
<div class="caption">
PLACES PLUGIN</div></div>
 <h1>BASALT PLACES REST PLUGIN </h1>
<h2>Part of the BASALT Extension Layer, Which is Part of the BAOBAB Server, which is part of the Rift Valley Platform </h2>
<div class="image">
<img src="BothLogos.png" alt="BothLogos.png"/>
<div class="caption">
BAOBAB Server and The Rift Valley Platform</div></div>
 <h1>INTRODUCTION </h1>
<p>The Places Plugin is a basic <a class="el" href="a00364.html">BASALT</a> <a href="https://restfulapi.net">REST</a> Plugin; part of the "standard" set.</p>
<p>You use this plugin to obtain listings/details of places (locations and addresses) in the BAOBAB server.</p>
<h1>USAGE </h1>
<p>This plugin is accessed by setting <code>"places"</code> as the Command in the <a href="https://restfulapi.net">REST</a> URI. There are a number of other aspects to the URI that will be explained: </p><pre class="fragment">{GET|POST|PUT|DELETE} http[s]://{SERVER URL}/{json|xml|xsd}/places/[INTEGER RESOURCE IDS CSV][?{show_details|show_parents|SEARCH PARAMETERS -DISCUSSED BELOW|PUT/POST PARAMETERS -DISCUSSED BELOW}]
</pre><h2>MISCELLANEOUS PARAMETERS </h2>
<p>These are additional parameters that you can use to specify various formats and information fields for resources.</p>
<ul>
<li><p class="startli"><code>writeable</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If you add this, then only resources that can be modified by the current logged-in user will be returned. This will apply to GET, PUT and DELETE.</p>
<p class="startli"><b>NOTE:</b> It goes without saying (but we're saying it anyway) that this will only be useful when logged in with an API Key.</p>
</li>
<li><p class="startli"><code>show_details</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If you add this, then resource records will be returned, showing as much information about the resources as possible (in GET method). Otherwise, you will receive an abbreviated response.</p>
</li>
<li><p class="startli"><code>show_parents</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If you add this, then resource records will be returned, showing as much information about the resources as possible (in GET method), and they will also list any "parent" records that have the given record as a "child." It should be noted that specifying this can add considerable overhead to the call; slowing it down significantly. It's really designed for "focused" resource information.</p>
</li>
</ul>
<h2>SEARCH PARAMETERS </h2>
<p><b>Locality Radius Searches</b> All three of these must be used together. If you specify them, then any place resources that have a long/lat that falls within the radius will be returned. Resources without long/lat will not be returned.</p>
<ul>
<li><p class="startli"><code>search_longitude=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is the longitude of the resource, in degrees.</p>
</li>
<li><p class="startli"><code>search_latitude=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is the latitude of the resource, in degrees.</p>
</li>
<li><p class="startli"><code>search_radius=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is a value for a radius (not diameter) circle around the given longitude and latitude. It is in Kilometers. If the resource is "fuzzy," it is possible that the long/lat shown by the resource (which is deliberately inaccurate) may be outside the radius, but the actual resource location is within the radius.</p>
</li>
<li><p class="startli"><code>search_address=</code></p>
<p class="startli"><em>String.</em> If the server is set up for geocoding, then this can be used instead of <code>search_longitude</code> and <code>search_latitude</code> (you still need <code>search_radius</code>, though). It can contain an address that will be sent to Google for geocoding. This is likely to only be available to logged-in users, although it is possible for the server to be configured to allow all users to use the facility.</p>
</li>
</ul>
<p><b>String Searches</b> These searches allow you to specify a simple case-insensitive string value for the indicated resource column. You can use SQL-style wildcards (%) in the strings. Not specifying a value, but specifying the parameter name and equals sign indicates that the indicated field MUST be empty. Not specifying a field at all indicates that the value of that field is not considered in the search. These are actual string matches. They do not do an address lookup, and resources that don't have long/lat can be returned in these searches.</p>
<ul>
<li><p class="startli"><code>search_name=</code></p>
<p class="startli"><em>String.</em> This is a simple resource name.</p>
</li>
<li><p class="startli"><code>search_venue=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the venue of any address.</p>
</li>
<li><p class="startli"><code>search_street_address=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the street address of any address.</p>
</li>
<li><p class="startli"><code>search_extra_information=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that is for the "extra information" section of any address.</p>
</li>
<li><p class="startli"><code>search_town=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the town/city/municipality of any address.</p>
</li>
<li><p class="startli"><code>search_county</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the county or sub-province of any address.</p>
</li>
<li><p class="startli"><code>search_state=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the state or province of any address.</p>
</li>
<li><p class="startli"><code>search_postal_code=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the postal code of any address.</p>
</li>
<li><p class="startli"><code>search_nation=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the nation of any address.</p>
</li>
<li><p class="startli"><code>search_tag8=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that can be applied to the place.</p>
</li>
<li><p class="startli"><code>search_tag9=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that can be applied to the place.</p>
</li>
</ul>
<h2>SPECIAL FORMATS OF RESPONSE DATA </h2>
<p><b>Resource Response Format Query Parameters</b> You can ask that data be returned in integers (individual resource IDs), as opposed to ID records, or even as a single integer, which specifies the number of resources that would be returned for the given search. In either case, the responses are wrapped in the requested data format (JSON or XML).</p>
<p><b>NOTE:</b> These can only be used for GET method.</p>
<ul>
<li><p class="startli"><code>search_ids_only</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If you add this, then the response will be arrays of integers, which will represent resource IDs (which can be used in resource specifiers in subsequent calls).</p>
</li>
<li><p class="startli"><code>search_count_only</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If you add this, then the response will be a single integer. It will be the number of resources that would be returned by the specified search.</p>
</li>
</ul>
<h2>PAGING OF RESPONSE DATA </h2>
<p><b>Paging Query Parameters</b> These can be used for GET, PUT and DELETE.</p>
<p>It is possible to request that the data be returned in "pages," where you specify a "page size," and then a "requested page of results." This allows you to focus on only a part of a large dataset, or have the response sent back in manageable-size pieces.</p>
<p>Paging is another place we deviate from standard REST. In REST, you usually indicate pages in the resource request, but we specify paging via query parameters:</p>
<p>These apply to both normal resource response and ID-only resource response.</p>
<ul>
<li><p class="startli"><code>search_page_size=</code></p>
<p class="startli"><em>Integer.</em> This is the number of resources to send per page. If the page size is greater than the available resources for that page, then the number of resources returned for that page will be fewer than the specified page size.</p>
</li>
<li><p class="startli"><code>search_page_number=</code></p>
<p class="startli"><em>Integer.</em> This is the 0-based index of the requested page. Only the resources for that single page will be returned. If the index is greater than the number of available pages, then nothing will be returned.</p>
</li>
</ul>
<h2>POST AND PUT PARAMETERS </h2>
<p>There are parameters that can be used to set data when creating new places (POST), or editing existing ones (PUT):</p>
<ul>
<li><p class="startli"><code>name=</code></p>
<p class="startli"><em>String.</em> This is a simple resource name.</p>
</li>
<li><p class="startli"><code>lang=</code></p>
<p class="startli"><em>String.</em> This is the language identifier.</p>
</li>
<li><p class="startli"><code>longitude=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is the longitude of the resource, in degrees.</p>
</li>
<li><p class="startli"><code>latitude=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is the latitude of the resource, in degrees.</p>
</li>
<li><p class="startli"><code>fuzz_factor=</code></p>
<p class="startli"><em>Floating-Point Decimal Value.</em> This is the value, in kilometers, of the location obfuscation. Setting this to zero (empty) will turn location obfuscation off.</p>
</li>
<li><p class="startli"><code>can_see_through_the_fuzz=</code></p>
<p class="startli"><em>Integer.</em> This is a security token that is allowed to see the "true" location of a location-obfuscated place.</p>
</li>
<li><p class="startli"><code>read_token=</code></p>
<p class="startli"><em>Integer.</em> This is a security token that is allowed to see this resource. You are allowed to set this to 0 (everyone can see) or 1 (all logged-in users can see, but only logged-in users).</p>
</li>
<li><p class="startli"><code>write_token=</code></p>
<p class="startli"><em>Integer.</em> This is a security token that is allowed to modify this resource. You can set this to 1 (all logged-in users can modify), but not 0.</p>
</li>
<li><p class="startli"><code>address_venue=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the venue of any address.</p>
</li>
<li><p class="startli"><code>address_street_address=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the street address of any address.</p>
</li>
<li><p class="startli"><code>address_extra_information=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that is for the "extra information" section of any address.</p>
</li>
<li><p class="startli"><code>address_town=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the town/city/municipality of any address.</p>
</li>
<li><p class="startli"><code>address_county=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the county or sub-province of any address.</p>
</li>
<li><p class="startli"><code>address_state=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the state or province of any address.</p>
</li>
<li><p class="startli"><code>address_postal_code=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the postal code of any address.</p>
</li>
<li><p class="startli"><code>address_nation=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that names the nation of any address.</p>
</li>
<li><p class="startli"><code>tag8=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that can be applied to the place.</p>
</li>
<li><p class="startli"><code>tag9=</code></p>
<p class="startli"><em>String.</em> This is an arbitrary string value that can be applied to the place.</p>
</li>
<li><p class="startli"><code>geocode</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If this is specified, then the BAOBAB server will make its best effort to use the address information in the record to look up a longitude and latitude. It will save this long/lat (assuming it worked) in the record.</p>
</li>
<li><p class="startli"><code>reverse-geocode</code></p>
<p class="startli"><em>No Value Required -Just Add the Query.</em> If this is specified, then the BAOBAB server will make its best effort to use the long/lat information in the record to look up an address. It will save this address (assuming it worked) in the record.</p>
</li>
</ul>
<h2>DELETE OPERATIONS </h2>
<p>Delete is quite simple. Just select one or more resources (either by direct selection, or by a search), and specify DELETE as the HTTP method.</p>
<p>Any records within that set that are writeable by the current login will be deleted, and a detailed report will be returned in the chosen format.</p>
<h1>LICENSE </h1>
<div class="image">
<img src="RiftValleySimpleCorpLogo.png" alt="RiftValleySimpleCorpLogo.png"/>
<div class="caption">
The Great Rift Valley Software Company</div></div>
 <h1>LICENSE </h1>
<p>Â© Copyright 2018, The Great Rift Valley Software Company</p>
<p>LICENSE:</p>
<p>MIT License</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>The Great Rift Valley Software Company: <a href="https://riftvalleysoftware.com">https://riftvalleysoftware.com</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
